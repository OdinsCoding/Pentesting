#!/bin/bash

FILENAME=$1

LINES=$(cat $FILENAME)
LINESCOUNTER=$(wc -l $FILENAME | cut -d " " -f1)
COUNTER=0
PROGRESS=0

# Rainbow PUKE

RED=$'\e[0;31m'
Green=$'\e[1;32m'
RESET=$'\e[0m'

for LINE in $LINES
do
	echo -e "\n"
	echo -e "\n"
    echo "$Green [+] $RESET IP Range: $LINE"
    echo -e "\n"
    dnsrecon -r $LINE -d google | grep PTR | cut -d " " -f3-4
    COUNTER=$((COUNTER+1))
    PROGRESS=$((COUNTER * 100 /LINESCOUNTER - 1))
    echo -e "\n"
    PRINT=$(printf "\r%d%% $PROGRESS")
    echo "Progress : $RED $PROGRESS% $RESET"
done